<!DOCTYPE html>
<html>
  <head>
    <title>shuangpin</title>
    <script type="text/javascript" src="scripts/jquery.min.js"></script>
    <link rel="shortcut icon" href="favicon.ico" mce_href="favicon.ico" type="image/x-icon" />
    <script type="text/javascript">
  		$(function(){
  			var txt = $('#syllable').text().replace(/^\s+|\s+$/, '');
  			var rows = txt.split(/\n/);

            // 声母字典，韵母字典
  			var syllable = [], init = {}, fin = {};
  			for (var i = 0; i < rows.length; i++) {
  				var r = rows[i].split(/\t/);
  				if(!init[r[2]]) init[r[2]]={};
  				init[r[2]][r[3]] = r[4];
  				if(!fin[r[3]]) fin[r[3]]={};
  				fin[r[3]][r[2]] = r[4];
  			}

            // 声母位置，韵母位置
            var initPos =  {}, finPos = {};
            for (var i in init) {
                initPos[i] = i;
            }
            initPos['zh'] = 'u';
            initPos['ch'] = 'i';
            initPos['sh'] = 'v';
            for (var f in fin) {
                finPos[f] = (f.length==1 ? f : null);
            }

            // 韵母频率
			var finFeq = [
				"an",	"ong",	"ai",	"en",	"ian",	"ing",	"uo",
				"ao",	"ang",	"ou",	"eng",	"ei",	"in",	"uan",
				"ui",	"iang",	"iao",	"ie",	"un",	"ia",	"iu",
				"ve",	"ua",	"uang",	"uai",	"iong"		
			];

            // 可相容的韵母
			var consistent = {};
            for (var f in finPos) {
                consistent[f] = [];
            }
			for (var one in consistent) {
                another:
				for (var another in consistent) {
					for (var initInOne in fin[one]) {
						for (var initInAnother in fin[another]) {
                            // 如果可以和相同的声母组合，就是不相容的
							if(initInOne == initInAnother) {
                                // 跳过这个another韵母，取下一个
                                continue another;
                            }
						}
					}
                    // another里的声母和one里的都不相同，可相容
                    consistent[one].push(another);
				}
			}

            // 位置和篮子
            var poses = "sentrioavmkdhufwyzklqxpcgj".split(''), basket = {};
            for (var p in poses) {
                basket[poses[p]] = [];
            }
            basket['a'].push('a');
            basket['o'].push('o');
            basket['e'].push('e');
            basket['i'].push('i');
            basket['u'].push('u');
            basket['v'].push('v');

            arrange(0, 0);

            function arrange(ifin, ipos) {
                if (ifin >= finFeq.length) {
                    display();
                    return false;
                }
                if (ipos >= poses.length) {
                 //   alert('error');
                 //   display();
                    return false;
                }

                var fin = finFeq[ifin], pos = poses[ipos], canPut = true;
                // 判断是否可以放在这里
                bfin:
                for (var i = 0; i < basket[pos].length; i++) {
                    var f = basket[pos][i]; // 篮子里的韵母
                    canPut = false; // 先假设当前要安排的韵母和篮子里的韵母不相容
                    var cons = consistent[f]; // 和篮子里的韵母相容的韵母
                    for (var j = 0; j < cons.length; j++) {
                        var fc = cons[j]; // 和篮子里的韵母相容的韵母
                        if (fc == fin) { // 如果当前要安排的韵母和篮子里的韵母相容，再看篮子里下一个韵母
                            canPut = true;
                            continue bfin;
                        }
                    }
                    // 当前要安排的韵母和篮子里的韵母不相容
                    return arrange(ifin, ipos + 1);
                }

                // 如果可以放在这里
                if(canPut) {
                    finPos[fin] = pos;  // 放完这个韵母
                    basket[pos].push(fin);
                    var succ = arrange(ifin + 1, 0); // 接下来放下一个韵母
                    if(succ) { // 下一个放置成功
                        return true;
                    } else { // 下一个没地方放了
                        finPos[fin] = null; // 撤回，不放这里，试着放到下一个位置
                        return arrange(ifin, ipos + 1);
                    }
                }
                // 如果不可以放在这里
                else {
                    return arrange(ifin, ipos + 1); // 试着放到下一个位置
                }
            }

            function display() {
              var idea =  {
                  iu  :"q",	ui  :"w",	ve  :"w",	ei  :"f",	un  :"p",	ie  :"g",
                  ua  :"g",	iang:"j",	uang:"j",	uan :"l",	zh  :"u",	u   :"u",
                  ang :"y",	a   :"a",	eng :"r",	ai  :"s",	ing :"t",	ian :"d",
                  ao  :"h",	an  :"n",	e   :"e",	ch  :"i",	i   :"i",	o   :"o",
                  uo  :"o",	ia  :"z",	in  :"x",	ou  :"c",	sh  :"v",	v   :"v",
                  uai :"v",	iao :"b",	en  :"k",	ong :"m",	iong:"m"
              };
              var ideaTxt = 'var idea =  {\n\t', i = 1;
              for (var d in idea) {
                  var pos = finPos[d] || initPos[d];
                  ideaTxt += d + '    '.substring(0, 4-d.length) + ':"' + pos + '",';
                  if ( i++ % 6 == 0 )  {
                      ideaTxt += '\n\t';
                  }
                  else {
                      ideaTxt += '\t';
                  }
              }
              ideaTxt = ideaTxt.replace(/,\n?\t$/g, '\n};');

              $('#display').append(ideaTxt + "<br>");
              //alert(ideaTxt);
            }
			
  		});
  	</script>
  </head>
  <body>
    <div id="display"></div>

	<pre id="syllable" style="display: none;">
'a	a	a	a	201272
'ai	ai	a	i	334635
'an	an	a	n	684007
'ang	ang	a	g	14800
'ao	ao	a	o	185549
'e	e	e	e	251932
'ei	ei	e	i	1019
'en	en	e	n	50806
'er	er	e	r	1763259
'o	o	o	o	8788
'ou	ou	o	u	138266
ba	ba	b	a	988004
bai	bai	b	ai	496336
ban	ban	b	an	809687
bang	bang	b	ang	154298
bao	bao	b	ao	1328261
bei	bei	b	ei	1097420
ben	ben	b	en	714864
beng	beng	b	eng	15099
bi	bi	b	i	936004
bian	bian	b	ian	787533
biao	biao	b	iao	643866
bie	bie	b	ie	288107
bin	bin	b	in	75013
bing	bing	b	ing	708962
bo	bo	b	o	361985
bu	bu	b	u	4079290
ca	ca	c	a	13552
cai	cai	c	ai	713880
can	can	c	an	282172
cang	cang	c	ang	107524
cao	cao	c	ao	133381
ce	ce	c	e	233489
cen	cen	c	en	1294
ceng	ceng	c	eng	224369
cha	cha	ch	a	406091
chai	chai	ch	ai	25731
chan	chan	ch	an	759234
chang	chang	ch	ang	1833141
chao	chao	ch	ao	248646
che	che	ch	e	350771
chen	chen	ch	en	259833
cheng	cheng	ch	eng	1786300
chi	chi	ch	i	495085
chong	chong	ch	ong	211952
chou	chou	ch	ou	134427
chu	chu	ch	u	1967791
chuai	chuai	ch	uai	3058
chuan	chuan	ch	uan	405214
chuang	chuang	ch	uang	254143
chui	chui	ch	ui	39692
chun	chun	ch	un	151254
chuo	chuo	ch	uo	6660
ci	ci	c	i	1012511
cong	cong	c	ong	609053
cou	cou	c	ou	7042
cu	cu	c	u	106131
cuan	cuan	c	uan	5581
cui	cui	c	ui	53114
cun	cun	c	un	331501
cuo	cuo	c	uo	146756
da	da	d	a	2504190
dai	dai	d	ai	884245
dan	dan	d	an	923950
dang	dang	d	ang	891698
dao	dao	d	ao	2420704
de	de	d	e	12648125
deng	deng	d	eng	688426
di	di	d	i	2464890
dia	dia	d	ia	198
dian	dian	d	ian	1114173
diao	diao	d	iao	82297
die	die	d	ie	45467
ding	ding	d	ing	754488
diu	diu	d	iu	13940
dong	dong	d	ong	1165941
dou	dou	d	ou	737451
du	du	d	u	786771
duan	duan	d	uan	372847
dui	dui	d	ui	1442442
dun	dun	d	un	176038
duo	duo	d	uo	962799
fa	fa	f	a	2009066
fan	fan	f	an	727548
fang	fang	f	ang	1513223
fei	fei	f	ei	634386
fen	fen	f	en	940985
feng	feng	f	eng	504147
fo	fo	f	o	60890
fou	fou	f	ou	74467
fu	fu	f	u	1828853
ga	ga	g	a	10893
gai	gai	g	ai	607987
gan	gan	g	an	653401
gang	gang	g	ang	357292
gao	gao	g	ao	905985
ge	ge	g	e	2806040
gei	gei	g	ei	309022
gen	gen	g	en	275683
geng	geng	g	eng	310545
gong	gong	g	ong	2233833
gou	gou	g	ou	365284
gu	gu	g	u	697367
gua	gua	g	ua	68982
guai	guai	g	uai	50489
guan	guan	g	uan	1431379
guang	guang	g	uang	442996
gui	gui	g	ui	475659
gun	gun	g	un	23573
guo	guo	g	uo	3794793
ha	ha	h	a	84928
hai	hai	h	ai	1181983
han	han	h	an	341652
hang	hang	h	ang	86076
hao	hao	h	ao	827739
he	he	h	e	2954203
hei	hei	h	ei	117338
hen	hen	h	en	407974
heng	heng	h	eng	77632
hong	hong	h	ong	257317
hou	hou	h	ou	1024574
hu	hu	h	u	720217
hua	hua	h	ua	1678430
huai	huai	h	uai	123062
huan	huan	h	uan	400747
huang	huang	h	uang	245187
hui	hui	h	ui	2125717
hun	hun	h	un	121763
huo	huo	h	uo	1057000
ji	ji	j	i	5378305
jia	jia	j	ia	2157554
jian	jian	j	ian	2449940
jiang	jiang	j	iang	1039535
jiao	jiao	j	iao	1307519
jie	jie	j	ie	1918573
jin	jin	j	in	2332486
jing	jing	j	ing	2273476
jiong	jiong	j	iong	6143
jiu	jiu	j	iu	1661613
juan	juan	j	uan	75969
jun	jun	j	un	558882
jv	jv	j	v	1321100
jve	jve	j	ve	432269
ka	ka	k	a	112440
kai	kai	k	ai	781762
kan	kan	k	an	603717
kang	kang	k	ang	152749
kao	kao	k	ao	207528
ke	ke	k	e	1789752
ken	ken	k	en	64266
keng	keng	k	eng	11817
kong	kong	k	ong	319634
kou	kou	k	ou	339630
ku	ku	k	u	213734
kua	kua	k	ua	41951
kuai	kuai	k	uai	262503
kuan	kuan	k	uan	129608
kuang	kuang	k	uang	247950
kui	kui	k	ui	63905
kun	kun	k	un	117150
kuo	kuo	k	uo	155233
la	la	l	a	375599
lai	lai	l	ai	1529184
lan	lan	l	an	265532
lang	lang	l	ang	105177
lao	lao	l	ao	498709
le	le	l	e	3261442
lei	lei	l	ei	318430
leng	leng	l	eng	70329
li	li	l	i	3806174
lian	lian	l	ian	654728
liang	liang	l	iang	1124509
liao	liao	l	iao	226145
lie	lie	l	ie	281042
lin	lin	l	in	338716
ling	ling	l	ing	694713
liu	liu	l	iu	588318
lo	lo	l	o	420032
long	long	l	ong	146958
lou	lou	l	ou	95210
lu	lu	l	u	636664
luan	luan	l	uan	70106
lun	lun	l	un	406465
lv	lv	l	v	470898
lve	lve	l	ve	80659
ma	ma	m	a	528172
mai	mai	m	ai	240412
man	man	m	an	267752
mang	mang	m	ang	84583
mao	mao	m	ao	334500
me	me	m	e	528078
mei	mei	m	ei	1387894
men	men	m	en	1720313
meng	meng	m	eng	216924
mi	mi	m	i	343947
mian	mian	m	ian	765746
miao	miao	m	iao	98530
mie	mie	m	ie	35532
min	min	m	in	858033
ming	ming	m	ing	1132617
miu	miu	m	iu	7021
mo	mo	m	o	414959
mou	mou	m	ou	129246
mu	mu	m	u	762579
na	na	n	a	962435
nai	nai	n	ai	85150
nan	nan	n	an	611198
nang	nang	n	ang	7585
nao	nao	n	ao	110603
ne	ne	n	e	131130
nei	nei	n	ei	417476
nen	nen	n	en	8887
neng	neng	n	eng	792017
ni	ni	n	i	874291
nian	nian	n	ian	1655594
niang	niang	n	iang	53417
niao	niao	n	iao	30797
nie	nie	n	ie	22571
nin	nin	n	in	60705
ning	ning	n	ing	93546
niu	niu	n	iu	92280
nong	nong	n	ong	392458
nou	nou	n	ou	47
nu	nu	n	u	102712
nuan	nuan	n	uan	17816
nuo	nuo	n	uo	59988
nv	nv	n	v	294815
nve	nve	n	ve	7138
pa	pa	p	a	118314
pai	pai	p	ai	329952
pan	pan	p	an	167764
pang	pang	p	ang	63052
pao	pao	p	ao	106173
pei	pei	p	ei	225405
pen	pen	p	en	20341
peng	peng	p	eng	162951
pi	pi	p	i	303688
pian	pian	p	ian	246163
piao	piao	p	iao	106892
pie	pie	p	ie	4855
pin	pin	p	in	505207
ping	ping	p	ing	587309
po	po	p	o	235226
pou	pou	p	ou	4777
pu	pu	p	u	226948
qi	qi	q	i	2762926
qia	qia	q	ia	30421
qian	qian	q	ian	1086669
qiang	qiang	q	iang	442737
qiao	qiao	q	iao	184096
qie	qie	q	ie	329055
qin	qin	q	in	315818
qing	qing	q	ing	1150062
qiong	qiong	q	iong	35299
qiu	qiu	q	iu	451786
quan	quan	q	uan	1049687
qun	qun	q	un	141461
qv	qv	q	v	1506961
qve	qve	q	ve	421625
ran	ran	r	an	615505
rang	rang	r	ang	191231
rao	rao	r	ao	43740
re	re	r	e	142937
ren	ren	r	en	3508887
reng	reng	r	eng	102022
ri	ri	r	i	991994
rong	rong	r	ong	286618
rou	rou	r	ou	64917
ru	ru	r	u	904745
ruan	ruan	r	uan	33876
rui	rui	r	ui	63944
run	run	r	un	27362
ruo	ruo	r	uo	98736
sa	sa	s	a	87069
sai	sai	s	ai	235435
san	san	s	an	534299
sang	sang	s	ang	44570
sao	sao	s	ao	36542
se	se	s	e	237733
sen	sen	s	en	47239
seng	seng	s	eng	6219
sha	sha	sh	a	224159
shai	shai	sh	ai	6668
shan	shan	sh	an	470302
shang	shang	sh	ang	2063177
shao	shao	sh	ao	408115
she	she	sh	e	1108690
shen	shen	sh	en	1320820
sheng	sheng	sh	eng	1915764
shi	shi	sh	i	10519921
shou	shou	sh	ou	1317037
shu	shu	sh	u	1499150
shua	shua	sh	ua	18008
shuai	shuai	sh	uai	37172
shuan	shuan	sh	uan	5288
shuang	shuang	sh	uang	143764
shui	shui	sh	ui	593231
shun	shun	sh	un	68835
shuo	shuo	sh	uo	1201137
si	si	s	i	1627242
song	song	s	ong	209449
sou	sou	s	ou	29094
su	su	s	u	490805
suan	suan	s	uan	141726
sui	sui	s	ui	345439
sun	sun	s	un	115512
suo	suo	s	uo	715502
ta	ta	t	a	3027330
tai	tai	t	ai	610724
tan	tan	t	an	444706
tang	tang	t	ang	173440
tao	tao	t	ao	248134
te	te	t	e	428398
teng	teng	t	eng	37959
ti	ti	t	i	1351257
tian	tian	t	ian	732059
tiao	tiao	t	iao	608535
tie	tie	t	ie	124700
ting	ting	t	ing	410301
tong	tong	t	ong	1561129
tou	tou	t	ou	630035
tu	tu	t	u	498580
tuan	tuan	t	uan	212620
tui	tui	t	ui	245341
tun	tun	t	un	18350
tuo	tuo	t	uo	193842
wa	wa	w	a	90744
wai	wai	w	ai	557152
wan	wan	w	an	861346
wang	wang	w	ang	792760
wei	wei	w	ei	3350224
wen	wen	w	en	1376343
weng	weng	w	eng	11565
wo	wo	w	o	2028466
wu	wu	w	u	1937403
xi	xi	x	i	1847431
xia	xia	x	ia	931711
xian	xian	x	ian	1932126
xiang	xiang	x	iang	2318846
xiao	xiao	x	iao	1417531
xie	xie	x	ie	1019414
xin	xin	x	in	1697685
xing	xing	x	ing	2165222
xiong	xiong	x	iong	124129
xiu	xiu	x	iu	221318
xuan	xuan	x	uan	350471
xun	xun	x	un	350632
xv	xv	x	v	845164
xve	xve	x	ve	998419
ya	ya	y	a	493298
yan	yan	y	an	1278355
yang	yang	y	ang	1011614
yao	yao	y	ao	1499898
ye	ye	y	e	2223200
yi	yi	y	i	8560380
yin	yin	y	in	1047274
ying	ying	y	ing	1101740
yo	yo	y	o	3946
yong	yong	y	ong	935706
you	you	y	ou	4032007
yuan	yuan	y	uan	1958432
yun	yun	y	un	406850
yv	yv	y	v	2636015
yve	yve	y	ve	989176
za	za	z	a	103539
zai	zai	z	ai	3284695
zan	zan	z	an	99476
zang	zang	z	ang	29007
zao	zao	z	ao	428251
ze	ze	z	e	428144
zei	zei	z	ei	6355
zen	zen	z	en	125548
zeng	zeng	z	eng	289721
zha	zha	zh	a	71871
zhai	zhai	zh	ai	91488
zhan	zhan	zh	an	1149626
zhang	zhang	zh	ang	524889
zhao	zhao	zh	ao	420912
zhe	zhe	zh	e	3562020
zhen	zhen	zh	en	638433
zheng	zheng	zh	eng	1726585
zhi	zhi	zh	i	4617458
zhong	zhong	zh	ong	3778873
zhou	zhou	zh	ou	459239
zhu	zhu	zh	u	1696964
zhua	zhua	zh	ua	95534
zhuai	zhuai	zh	uai	1470
zhuan	zhuan	zh	uan	404254
zhuang	zhuang	zh	uang	338205
zhui	zhui	zh	ui	73927
zhun	zhun	zh	un	172918
zhuo	zhuo	zh	uo	64097
zi	zi	z	i	2380010
zong	zong	z	ong	586703
zou	zou	z	ou	302111
zu	zu	z	u	672366
zuan	zuan	z	uan	19284
zui	zui	z	ui	553750
zun	zun	z	un	53808
zuo	zuo	z	uo	1619391
	</pre>
  </body>
</html>

