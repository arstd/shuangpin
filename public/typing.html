<!doctype html>
<html>
    <head>
        <title>Typing</title>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <meta name="keywords" content="Dvorak,QWERTY,键盘,布局,打字,双拼" />
        <meta name="author" content="毛毛雨(shangxuejin@gmail.com)" />
        <script type="text/javascript" src="scripts/jquery.min.js"></script>
        <link rel="shortcut icon" href="favicon.ico" mce_href="favicon.ico" type="image/x-icon" />
        <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css" />
        <link rel="stylesheet" href="bootstrap/css/bootstrap-responsive.min.css" />
        <link rel="stylesheet" href="typing/typing.css" />
    </head>
    <body>
        <div id="typing"></div>
        <textarea id="text"></textarea>
        <script type="text/javascript">
        $(function(){
            $('#text').on('blur', function(){
                $('#typing').html(this.value.replace(/[^\n]/g, function(m){
                    return '<span>' + m + '</span>';
                }).replace(/\n/g, '<br>').replace(/span/, 'span class="current"'));		
            });
            $('body').live('keyup', function(event) {
                event.preventDefault();
                $('#typing .current').removeClass('current').addClass('right')
                    .next().addClass('current');
            });
        });

        </script>
    </body>
</html>

