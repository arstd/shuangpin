<!doctype html>
<html>
    <head>
        <title>双拼布局的设计工具</title>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="stylesheets/designassist.css" />
        <script type="text/javascript" src="javascripts/jquery-1.8.3.js"></script>
        <script type="text/javascript" src="keyboard/dvorak.js"></script>
        <meta name="keywords" content="Dvorak,QWERTY,键盘,布局,打字,双拼" />
        <meta name="author" content="毛毛雨" />
    </head>
    <body>
        <div id="keyboard"></div>
    </body>
    <script type="text/javascript">
        $(function() {
            // generate keyboard 
            var $keyboard = $('#keyboard');
            for (var i = 0; i < 5; i++) {
                var row = $('<div class="row" />').attr('id', 'row' + i);
                var num = 13;
                if (i == 1) {
                    row.append('<div id="keytab" class="key">Tab</div>');
                    num = 13;
                }
                else if (i == 2) {
                    row.append('<div id="keycapslock" class="key">Caps Lock</div>');
                    num = 11;
                }
                else if (i == 3) {
                    row.append('<div id="keyshiftl" class="key">Shift L</div>');
                    num = 10;
                }
                else if (i == 4) {
                    row.append('<div id="keyctrll" class="key">Ctrl L</div>');
                    row.append('<div id="keywinl" class="key">Win L</div>');
                    row.append('<div id="keyaltl" class="key">Alt L</div>');
                    row.append('<div id="keyblank" class="key"></div>');
                    row.append('<div id="keyaltr" class="key">Alt R</div>');
                    row.append('<div id="keywinr" class="key">Win R</div>');
                    row.append('<div id="keymenu" class="key">Menu</div>');
                    row.append('<div id="keyctrlr" class="key">Ctrl R</div>');
                    num = 0;
                }
                for (var j = 1; j < num; j++) {
                    var key = $('<div class="key" />').attr('id', 'key' + (i * 100 + j));
                    for (var k = 1; k <= 4; k++) {
                        key.append($('<div class="corner" />').addClass('corner' + k));
                    }
                    row.append(key);
                }
                if (i == 0) {
                    row.append('<div id="keybackspace" class="key">Backspace</div>');
                }
                else if (i == 1) {
                    row.append('<div id="keyslash" class="key">\\</div>');
                }
                else if (i == 2) {
                    row.append('<div id="keyenter" class="key">Enter</div>');
                }
                else if (i == 3) {
                    row.append('<div id="keyshiftr" class="key">Shift R</div>');
                }
                $keyboard.append(row);
            }

            // fill keyboard use dvorak layout
            var dvorak = keyboard.dvorak;
            for (var i = 0; i < dvorak.length; i++) {
                for (var j = 0; j < dvorak[i].length; j++) {
                    if (dvorak[i][j] instanceof Array) {
                        if (dvorak[i][j][0]) { 
                            $('#key' + (i * 100 + j) + ' .corner:eq(0)').text(dvorak[i][j][0]);
                        }
                        if (dvorak[i][j][1]) { 
                            $('#key' + (i * 100 + j) + ' .corner:eq(2)').text(dvorak[i][j][1]);
                        }
                        if (dvorak[i][j][2]) { 
                            $('#key' + (i * 100 + j) + ' .corner:eq(1)').text(dvorak[i][j][2]);
                        }                   
                        if (dvorak[i][j][3]) { 
                            $('#key' + (i * 100 + j) + ' .corner:eq(3)').text(dvorak[i][j][3]);
                        }
                    }
                    else {
                        $('#key' + (i * 100 + j)).text(dvorak[i][j]);
                    }
                }
            }
        });
    </script>
</html>
